# 51easycomputer
based on 51 
### **设计11  简易****计算器**

#### **1** **. 设计****任务**

以AT89S52单片机为核心，设计一个简易计数器，实现两位整数的加、减、乘、除运算，具有显示和清零功能，还可以进行四则运算的单次或连续整型运算（最多连续四个运算），但不支持带优先级的表达式求值。

#### **2** **. ****设计内容及要求**

（1）实现四位整数的加、减、乘、除运算，要求除法运算结果保留两位小数。

（2）采用LED液晶显示器，一行显示表达式，一行显示运算结果。

（3）设置0~9数字键，加“+”、减“-”、乘“×”、除“÷”运算符键，等于键“=”和清零键“C”，进行数字键入、控制运算和清零等操作。

（4）按下数字键、运算符键和等号键时，蜂鸣器响一声“滴”，按下清零键时，蜂鸣器响两声“滴、滴”。

（5）设置开机键“ON”和关机键“OFF”，控制计算器的开启和关闭，开机后30秒无输入，则自动关机（黑屏）。

#### **3. 设计指导**

（1）设置一个4×4的矩阵键盘，模拟计算器键盘，包括0~9数字键，加“+”、减“-”、乘“×”、除“÷”运算符键，等于键“=”和清零键“C”。

（2）采用LCD1602液晶显示器，16字×2行显示模式，显示完整的计算过程和计算结果，例如：

![](file:///C:\Users\wgy\AppData\Local\Temp\ksohtml32588\wps1.png)

注意：按输入顺序进行计算，不是先乘除、后加减。

（3）在按下等号按键时，要判断计算的合理性，如果不合理或超出运算和显示范围时，声光提示，点亮红色发光二极管、蜂鸣器响三声“滴、滴、滴”。

（4）在内存设置6个数据缓冲区，包括操作数1、操作数2、操作数3、操作数4、操作数5和运算结果缓冲区。

（5）完成运算后，按下清零键“C”，清屏，显示“***请继续***”，1秒钟闪烁1次，30秒后无输入，自动关机（黑屏）。

#### **4** **. ****功能拓展**

（1）判断运算符，如果键入的是乘“×”、除“÷”运算符，设置中断优先级，按照四则运算的规则“先乘除、后加减”进行运算。

（2）设置一个双功能键（相当于计算机键盘上的“Shift”键），扩展键盘功能，数字键0~5的双功能对应十六进制的A~F，在此基础上，实现十六进制数与十进制数的转换。
